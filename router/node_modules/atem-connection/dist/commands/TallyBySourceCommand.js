"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const AbstractCommand_1 = require("./AbstractCommand");
class TallyBySourceCommand extends AbstractCommand_1.default {
    constructor() {
        super(...arguments);
        this.rawName = 'TlSr';
    }
    deserialize(rawCommand) {
        const sourceCount = rawCommand.readUInt16BE(0);
        const sources = {};
        for (let i = 0; i < sourceCount; i++) {
            const source = rawCommand.readUInt16BE(2 + (i * 3));
            const value = rawCommand.readUInt8(4 + (i * 3));
            sources[source] = {
                program: (value & 0x01) > 0,
                preview: (value & 0x02) > 0
            };
        }
        this.properties = sources;
    }
    applyToState(_state) {
        return [];
    }
}
exports.TallyBySourceCommand = TallyBySourceCommand;
//# sourceMappingURL=TallyBySourceCommand.js.map