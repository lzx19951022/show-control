"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const AbstractCommand_1 = require("./AbstractCommand");
/**
 * This command gets the power status from the Atem. As defined in
 * DeviceProfile/productIdentifierCommand.ts the 2ME, 2ME 4K and the
 * Broadcast Studio have 2 power supplies. All other models have 1.
 */
class PowerStatusCommand extends AbstractCommand_1.default {
    constructor() {
        super(...arguments);
        this.rawName = 'Powr';
    }
    deserialize(rawCommand) {
        this.properties = [
            Boolean(rawCommand[0] & 1 << 0),
            Boolean(rawCommand[0] & 1 << 1)
        ];
    }
    applyToState(state) {
        const count = state.info.power.length;
        state.info.power = this.properties.slice(0, count);
        return `info.power`;
    }
}
exports.PowerStatusCommand = PowerStatusCommand;
//# sourceMappingURL=PowerStatusCommand.js.map